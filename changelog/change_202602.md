## 划词评论增加编辑与删除功能
date: 2026-02-14
为划词评论（Text Selection Comment）系统新增评论编辑和删除功能。高亮文本的悬浮tooltip中，评论作者可看到编辑（铅笔）和删除（垃圾桶）按钮；编辑弹出框预填原评论内容，通过GitHub API PATCH更新Issue Comment；删除操作需二次确认，通过GitHub API DELETE移除。未定位评论区同样支持hover显示编辑/删除按钮。新增CSS样式：tooltip操作按钮组、危险按钮（红色）、删除确认对话框引用样式、未定位评论的操作按钮（hover显隐）。权限控制基于当前登录用户与评论作者的匹配判断，仅作者本人可操作。

## 划词评论功能修复与增强
date: 2026-02-14
修复划词评论GitHub登录404问题：将OAuth认证方式从Authorization Code Flow改为Device Flow，复用TODO页面已有的Cloudflare Worker代理（oauthProxyUrl），彻底消除对不存在的oauth-callback.html页面的依赖。修复评论提交无效的问题：当popover或device modal可见时不再清除currentSelection，确保用户在输入框中交互后仍能正常提交评论。悬浮评论框新增GitHub Issue跳转链接（GitHub图标），tooltip改为可交互模式并增加150ms延迟隐藏，方便用户点击链接。配置层新增oauthProxyUrl字段（types定义、blog.config.json、SiteGenerator页面注入）。

## 修复代码块样式：加载附加CSS与消除双边框
date: 2026-02-13
在layout.html中引入style-addition.css，使语言badge定位（左上角）、复制按钮定位（右上角）及hover显隐行为生效。同时在style.css的pre code规则中添加border: none，消除pre与内部code元素的双边框问题。

## 代码块增强：语法高亮与一键复制
date: 2026-02-13
为博客文章页面的代码块新增语法高亮和一键复制功能。通过CDN引入Highlight.js（GitHub Light/Dark双主题），在SiteGenerator中仅为文章页注入CDN资源。新建code-enhance.js实现：hljs.highlightAll()语法高亮初始化、MutationObserver监听data-theme属性实现主题切换同步、为每个pre>code块注入复制按钮（Clipboard API + execCommand降级）与语言标签badge。CSS层面在style-addition.css中添加复制按钮（hover显示、移动端常显）、语言badge（左上角定位）、pre块相对定位与padding适配，均支持亮/暗双主题。OpenSpec制品已同步code-highlight和code-copy两个新capability到主specs并归档。

## Articles页面视图切换功能实现与归档
date: 2026-02-13
实现Articles页面列表/文件夹双视图切换功能并完成OpenSpec归档。后端：SiteGenerator为文章数据新增relativePath字段（跨平台正斜杠路径）。前端：新增articles-folder-view.js实现从扁平路径构建树形目录、展开折叠交互、文章计数；articles-filters.js新增视图切换逻辑（URL ?view=folder参数持久化、容器显隐控制）。样式：视图切换按钮组、文件夹树缩进/图标/chevron动画、暗色模式适配、移动端响应式。OpenSpec制品已同步到主specs并归档至archive/2026-02-13-articles-view-toggle。

## Articles页面视图切换功能 - OpenSpec制品创建
date: 2026-02-13
为Articles页面新增视图切换功能创建了完整的OpenSpec变更制品（articles-view-toggle）。包含4个制品：proposal（动机与能力定义）、design（技术设计决策：relativePath数据传递、前端树构建、CSS class视图切换、URL参数持久化）、specs（3个规格文件：articles-folder-view文件夹视图、articles-view-switch视图切换、articles-pagination分页适配）、tasks（15个实现任务覆盖后端数据、UI切换、文件夹视图、样式、集成测试）。
